!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=19)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=0,i=t.length;for(n=1;n<i;n++){var o=void 0;for(o in t[n])t[n].hasOwnProperty(o)&&(t[0][o]=t[n][o])}return t[0]};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};n.OAUTH2=Symbol("oauth2"),n.ACL=Symbol("acl"),t.default=n},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},a={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"},u=function(){function e(t,r,i,o,a,u){if(n(this,e),this.name="ValidationError",void 0===t)throw new Error("No code supplied for error: "+r);this.message=r,this.params=i,this.code=t,this.dataPath=o||"",this.schemaPath=a||"",this.subErrors=u||null;var s=new Error(this.message);if(this.stack=s.stack||s.stacktrace,!this.stack)try{throw s}catch(e){this.stack=e.stack||e.stacktrace}}return i(e,[{key:"prefixWith",value:function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors){var r=0,n=this.subErrors.length;for(r=0;r<n;r++)this.subErrors[r].prefixWith(e,t)}return this}}]),e}(),s={},l=void 0;for(l in o)s[o[l]]=l;t.ERROR_CODES=o,t.ERROR_MESSAGES_DEFAULT=a,t.ValidationError=u,t.ErrorCodeLookup=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={LoggerLevel:"info",MessageBundle:"Messages",AsynchronousQueueTimeout:2e3,ApplicationInitProcessTimeout:1e3};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e){return"string"==typeof e||!!e&&"object"===(void 0===e?"undefined":n(e))&&"[object String]"===Object.prototype.toString.call(e)};t.default=i},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(4),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(){function e(t){n(this,e),this._keys=[],this._data={},t&&this.marshall(t)}return i(e,[{key:"set",value:function(e,t){null!==e&&null!==t&&(this._data[e]||this._keys.push(e),this._data[e]=t)}},{key:"get",value:function(e){return this._data[e]}},{key:"indexOf",value:function(e){return this._keys.indexOf(e)}},{key:"remove",value:function(e){var t=this.indexOf(e);this._keys.splice(t,1),delete this._data[e]}},{key:"has",value:function(e){return-1!==this.indexOf(e)}},{key:"forEach",value:function(e){if("function"!=typeof e)return null;var t=this._keys.length,r=0,n=void 0;for(r=0;r<t;r++)n=this._keys[r],e(n,this._data[n],r)}},{key:"key",value:function(e){return this._keys[e]}},{key:"entries",value:function(){var e=0,t=this._keys.length,r=new Array(t);for(e=0;e<t;e++)r[e]={key:this._keys[e],value:this._data[e]};return r}},{key:"values",value:function(){var e=this._keys.length,t=new Array(e),r=0,n=void 0;for(r=0;r<e;r++)n=this._keys[r],t[r]=this._data[n];return t}},{key:"clear",value:function(){this._keys=[],this._data={}}},{key:"size",value:function(){return this._keys.length}},{key:"toJSON",value:function(){return this._data}},{key:"toString",value:function(){return JSON.stringify(this._data)}},{key:"isEmpty",value:function(){return 0===this._keys.length}},{key:"marshall",value:function(t){var r=void 0;if(t&&t instanceof e)r=t.toJSON();else if(t&&t instanceof Object&&Object.keys(t).length>0)r=t;else{if(!t||!(0,a.default)(t))return!1;try{r=JSON.parse(t)}catch(e){return!1}}var n=Object.keys(r),i=n.length,o=0;for(o=0;o<i;o++){var u=n[o],s=r[u];this.set(u,s)}return!0}}]),e}();t.default=u},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=arguments,u=r(23),s=0,l=function(e){return Object.keys(e)},c=function(e){return"{$prefix}"+ ++s},f=function(e,t){var r=void 0,n=void 0;if("function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT);return n=Number.parseInt(e),function(){return--n>0&&(r=t.apply(void 0,a)),n<=1&&(t=void 0),r}},h=function(e){return f(2,e)},d=/\s+/,v=function e(t,r,n,i,a){var u=0,s=void 0;if(n&&"object"===(void 0===n?"undefined":o(n))){void 0!==i&&"context"in a&&void 0===a.context&&(a.context=i);for(s=l(n);u<s.length;u++)r=e(t,r,s[u],n[s[u]],a)}else if(n&&d.test(n))for(s=n.split(d);u<s.length;u++)r=t(r,s[u],i,a);else r=t(r,n,i,a);return r},y=function(e,t,r,n,i){if(e._events=v(p,e._events||{},t,r,{context:n,ctx:e,listening:i}),i){(e._listeners||(e._listeners={}))[i.id]=i}return e},p=function(e,t,r,n){if(r){var i=e[t]||(e[t]=[]),o=n.context,a=n.ctx,u=n.listening;u&&u.count++,i.push({callback:r,context:o,ctx:o||a,listening:u})}return e},m=function(e,t,r,n){if(e){var i=0,o=void 0,a=n.context,u=n.listeners;if(t||r||a){for(var s=t?[t]:l(e);i<s.length;i++){t=s[i];var c=e[t];if(!c)break;var f=[],h=0;for(h=0;h<c.length;h++){var d=c[h];r&&r!==d.callback&&r!==d.callback._callback||a&&a!==d.context?f.push(d):(o=d.listening)&&0==--o.count&&(delete u[o.id],delete o.listeningTo[o.objId])}f.length?e[t]=f:delete e[t]}return e}for(var v=l(u);i<v.length;i++)o=u[v[i]],delete u[o.id],delete o.listeningTo[o.objId]}},_=function(e,t,r,n){if(e){var i=e[t],o=e.all;i&&o&&(o=o.slice()),i&&g(i,n),o&&g(o,[t].concat(n))}return e},g=function(e,t){var r=void 0,n=-1,i=e.length,o=t[0],a=t[1],u=t[2];switch(t.length){case 0:for(;++n<i;)(r=e[n]).callback.call(r.ctx);return;case 1:for(;++n<i;)(r=e[n]).callback.call(r.ctx,o);return;case 2:for(;++n<i;)(r=e[n]).callback.call(r.ctx,o,a);return;case 3:for(;++n<i;)(r=e[n]).callback.call(r.ctx,o,a,u);return;default:for(;++n<i;)(r=e[n]).callback.apply(r.ctx,t);return}},E=function(){function e(t){n(this,e),this._options={},this._events={},this._listeningTo={},this._listenId={},this._listeners={},this.options||(this._options={}),t&&Object.assign(this._options,t)}return i(e,[{key:"initialize",value:function(){return this}},{key:"trigger",value:function(e){if(this._events){var t=Math.max(0,(arguments.length<=1?0:arguments.length-1)-1),r=Array(t),n=0;for(n=0;n<t;n++)r[n]=arguments.length<=n+1+1?void 0:arguments[n+1+1];v(_,this._events,e,void 0,r)}return this}},{key:"once",value:function(e,t,r){var n=v(this._onceMap,{},e,t,u(this.off,this));return"string"==typeof e&&null==r&&(t=void 0),this.on(n,t,r)}},{key:"off",value:function(e,t,r){return this._events&&(this._events=v(m,this._events,e,t,{context:r,listeners:this._listeners})),this}},{key:"stopListening",value:function(e,t,r){var n=this._listeningTo;if(n){var i=e?[e._listenId]:l(n),o=0;for(o=0;o<i.length;o++){var a=n[i[o]];if(!a)break;a.obj.off(t,r,this)}}return this}},{key:"on",value:function(e,t,r){return y(this,e,t,r)}},{key:"listenTo",value:function(e,t,r){if(e){var n=e._listenId||(e._listenId=c()),i=this._listeningTo||(this._listeningTo={}),o=i[n];if(!o){var a=this._listenId||(this._listenId=c());o=i[n]={obj:e,objId:n,id:a,listeningTo:i,count:0}}y(e,t,r,this,o)}return this}},{key:"listenToOnce",value:function(e,t,r){var n=v(this._onceMap,{},t,r,u(this.stopListening,this,e));return this.listenTo(e,n)}},{key:"_onceMap",value:function(e,t,r,n){var i=this,o=arguments;if(r){var a=e[t]=h(function(){n(t,a),r.apply(i,o)});a._callback=r}return e}},{key:"options",get:function(){return this._options},set:function(e){this._options=e}},{key:"events",get:function(){return this._events}}]),e}();t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r){return void 0===t?e:r?""+e+t:""+t+e};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i={$schema:"http://json-schema.org/draft-04/schema#",title:"model",description:"Generated Schema",type:"object",properties:{}},o=function(e){var t=i,r=void 0,o=void 0,a=void 0,u=void 0,s=Object.keys(e),l=s.length;for(r=0;r<l;r++){o=s[r];for(a in o)if(o.hasOwnProperty(a)){u=t.properties[o]={};var c=n(e[o]);"object"===c?c=Array.isArray(e[o])?"array":"object":"number"===c&&(c=Number.isInteger(e[o])?"integer":"number"),u.type=c,u.description=String(o)}}return t};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(t.URI_TEMPLATE_GLOBAL_MODIFIERS={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},t.URI_TEMPLATE_SUFFICES={"*":!0},t.parseURI=function(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}),o=t.removeDotSegments=function(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")},a=t.resolveUrl=function(e,t){return t=i(t||""),e=i(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+o(t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null};t.getDocumentUri=function(e){return e.split("#")[0]},t.isTrustedUrl=function(e,t){if(t.substring(0,e.length)===e){var r=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===r.charAt(0)||"?"===r.charAt(0))return!0}return!1},t.normSchema=function e(t,r){if(t&&"object"===(void 0===t?"undefined":n(t)))if(void 0===r?r=t.id:"string"==typeof t.id&&(r=a(r,t.id),t.id=r),Array.isArray(t)){var i=0,o=t.length;for(i=0;i<o;i++)e(t[i],r)}else{"string"==typeof t.$ref&&(t.$ref=a(r,t.$ref));for(var u in t)"enum"!==u&&e(t[u],r)}}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(5),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){return new Promise(function(t,r){e.beforeInitialize()?t(e):r(new Error("failed before initialize!"))})},s=function(e){return new Promise(function(t,r){e.initialize()?t(e):r(new Error("failed initialize!"))})},l=function(e){return new Promise(function(t,r){e.afterInitialize()?t(e):r(new Error("failed after initialize!"))})},c=function(e){return new Promise(function(t,r){e.started()?t(e):r(new Error("failed starting!"))})},f=function(){function e(t){n(this,e),this._metadata=null,this._router=null,this._started=!1,this._metadata?this._metadata.clear():this._metadata=new a.default,t?this._metadata.set("name",t):this._metadata.set("name","untitled"),this._metadata.set("datastore",{})}return i(e,[{key:"initialize",value:function(){}},{key:"beforeInitialize",value:function(){}},{key:"afterInitialize",value:function(){}},{key:"setMetadataItem",value:function(e,t){this._metadata.set(e,t)}},{key:"getMetadataItem",value:function(e){return this._metadata.get(e)}},{key:"registerRouter",value:function(e){e&&(this._router=e)}},{key:"start",value:function(){var e=this;u(e).then(s).then(l).then(c).catch(function(t){throw e.stop(),t})}},{key:"stop",value:function(){this._started=!1}},{key:"createDatastore",value:function(e){e&&this.setMetadataItem("datastore",new e)}},{key:"router",get:function(){return this._router}},{key:"started",get:function(){return this._started}},{key:"name",get:function(){return this.getMetadataItem("name")},set:function(e){return this.setMetadataItem("name",e)}},{key:"metadata",get:function(){return this._metadata}},{key:"datastore",get:function(){return this.getMetadataItem("datastore")},set:function(e){e&&this.setMetadataItem("datastore",e)}}]),e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return"[object Function]"==Object.prototype.toString.call(e)};t.default=n},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerFactory=t.Level=t.Type=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(7),s=function(e){return e&&e.__esModule?e:{default:e}}(u),l=t.Type={};l.CONSOLE=Symbol("console"),l.COLOR_CONSOLE=Symbol("colorConsole"),l.REST=Symbol("rest");var c=t.Level={};c.INFO=Symbol("info"),c.DEBUG=Symbol("debug"),c.ERROR=Symbol("error"),c.WARN=Symbol("warn");var f=function(){function e(t){o(this,e),this.TIME_SEPERATOR=":",this.DATE_SEPERATOR="-",this.OPEN_GROUP=" [ ",this.CLOSE_GROUP=" ] ",this.label=c,this.loggerLevel=t||c.INFO}return a(e,[{key:"_getLogTime",value:function(){var e=new Date,t=""+e.getFullYear()+this.DATE_SEPERATOR+(e.getMonth()+1)+this.DATE_SEPERATOR+e.getDate()+" "+e.getHours()+this.TIME_SEPERATOR+e.getMinutes()+this.TIME_SEPERATOR+e.getSeconds()+this.TIME_SEPERATOR+e.getMilliseconds();return(0,s.default)("                        ",t,!1)}},{key:"log",value:function(e,t){var r="";return e&&(t||(t=c.INFO),this.loggerLevel===c.DEBUG&&t===c.DEBUG?r=this._logMe(""+this._getLogTime()+this.OPEN_GROUP+"DEBUG"+this.CLOSE_GROUP+e,t):t===c.ERROR?r=this._logMe(""+this._getLogTime()+this.OPEN_GROUP+"ERROR"+this.CLOSE_GROUP+e,t):t===c.WARN?r=this._logMe(""+this._getLogTime()+this.OPEN_GROUP+"WARN "+this.CLOSE_GROUP+e,t):this.loggerLevel!==c.DEBUG&&this.loggerLevel!==c.INFO||(r=this._logMe(""+this._getLogTime()+this.OPEN_GROUP+"INFO "+this.CLOSE_GROUP+e,t))),r}},{key:"info",value:function(e){this.log(e,c.INFO)}},{key:"error",value:function(e){this.log(e,c.ERROR)}},{key:"debug",value:function(e){this.log(e,c.DEBUG)}},{key:"warn",value:function(e){this.log(e,c.WARN)}},{key:"_logMe",value:function(e,t){}}]),e}(),h=function(e){function t(e){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),a(t,[{key:"_logMe",value:function(e,t){return t===c.INFO?console.info(e):t===c.ERROR?console.error(e):t===c.DEBUG?console.log(e):t===c.WARN?console.warn(e):console.log(e),e}}]),t}(f),d=function(e){function t(e){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),a(t,[{key:"_logMe",value:function(e,t){t===c.INFO?console.info("[36m"+e+"[0m"):t===c.ERROR?console.error("[31m"+e+"[0m"):t===c.DEBUG?console.log("[34m"+e+"[0m"):t===c.WARN?console.warn("[33m"+e+"[0m"):console.log("[37m"+e+"[0m")}}]),t}(f),v=function(e){function t(e,r){o(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.uri=r,i}return i(t,e),a(t,[{key:"setURI",value:function(e){this.uri=e}},{key:"_logMe",value:function(e){}}]),t}(f);t.LoggerFactory=function(){function e(){o(this,e)}return a(e,null,[{key:"getLogger",value:function(e,t){return e===l.CONSOLE?new h(t):e===l.COLOR_CONSOLE?new d(t):e===l.REST?new v(t):void 0}}]),e}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),u=n(a),s=r(3),l=n(s),c=function(){function e(t){i(this,e),this._queue={},this._timeout=t||l.default.AsynchronousQueueTimeout}return o(e,[{key:"add",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return!!(t&&t.length>0)&&((0,u.default)(this._queue,t),!0)}},{key:"clear",value:function(){this._queue.length>0&&this._queue.splice(0,this._queue.length)}},{key:"process",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];t&&(0,u.default)(this._queue,t);var n=this._queue,i=Object.keys(n).length,o=this._timeout;if(i<=0)return!1;return function e(t){if(t>=i||"function"!=typeof n[t])return!1;setTimeout(function(){n[t](),e(t+1)},o)}(0),!0}},{key:"timeout",get:function(){return this._timeout}},{key:"queue",get:function(){return this._queue}}]),e}();t.default=c},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=(t.BundleObject={name:"",mode:"both",cache:!0},t.ResourceBundle=function(){function e(){n(this,e)}return i(e,null,[{key:"getBundle",value:function(){return{}}},{key:"getString",value:function(){return""}}]),e}());t.MessageReader=function(){function e(){n(this,e)}return i(e,[{key:"getMessage",value:function(e){for(var t=o.getString(e),r=e.length,n=e;r>0&&t=="["+e+"]";)r=e.lastIndexOf("."),e=e.substring(0,r),t=o.getString(e);return e?t:"["+n+"]"}}]),e}(),t.MessageKeyFormatter=function(){function e(){n(this,e),this.delimiter="."}return i(e,null,[{key:"format",value:function(e){var t="";if(e){e.level&&(t+=e.level,e.kind&&(t+=this.delimiter+e.kind,e.rule&&(t+=this.delimiter+e.rule,e.values.title&&(t+=this.delimiter+e.values.title))))}return t||""}}]),e}()},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Entry=t.AuthenticationFactory=t.Context=t.Principal=void 0;var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(20),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),u=r(1),s=function(e){return e&&e.__esModule?e:{default:e}}(u),l=t.Principal=function(){function e(){n(this,e),this._fullName="",this._id=0,this._login="",this._email=""}return i(e,[{key:"fullName",get:function(){return this._fullName},set:function(e){this._fullName=e}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"login",get:function(){return this._login},set:function(e){this._login=e}},{key:"email",get:function(){return this._email},set:function(e){this._email=e}}]),e}();t.Context=function(){function e(t,r){n(this,e),this._principal=null,this._permissions=[],this._principal=t||((new l).login="guest"),this._permissions=r||[]}return i(e,[{key:"addPermission",value:function(e){this._permissions.push(e)}},{key:"removePermission",value:function(e){var t=this._permissions.indexOf(e);this._permissions.splice(t,1)}},{key:"hasPermission",value:function(e){return-1!==this._permissions.indexOf(e)}},{key:"principal",get:function(){return this._principal}},{key:"permissions",get:function(){return this._permissions},set:function(e){this._permissions=e}}]),e}(),t.AuthenticationFactory=function(){function e(){n(this,e)}return i(e,null,[{key:"getSecurityClient",value:function(e){return e===s.default.OAUTH2?new a.OAUTH2Client:e===s.default.ACL?new a.ACLClient:null}}]),e}(),t.Entry=function(){function e(t,r){n(this,e),this._permissions=[],this._permissions=t||[],this._neg=r||!1}return i(e,[{key:"isNegative",value:function(){return this._neg}},{key:"addPermission",value:function(e){this._permissions.push(e)}},{key:"removePermission",value:function(e){var t=this._permissions.indexOf(e);this._permissions.splice(t,1)}},{key:"hasPermission",value:function(e){return-1!=this._permissions.indexOf(e)}},{key:"setNegative",value:function(e){this.neg=e}},{key:"permissions",get:function(){return this._permissions},set:function(e){this._permissions=e}}]),e}()},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e),this._stack=[]}return i(e,[{key:"empty",value:function(){return 0===this._stack.length}},{key:"peek",value:function(){return this._stack[0]}},{key:"pop",value:function(){return this._stack.pop()}},{key:"push",value:function(e){this._stack.push(e)}},{key:"search",value:function(e){return this._stack.indexOf(e)}},{key:"size",value:function(){return this._stack.length}},{key:"clear",value:function(){this._stack.splice(0,this._stack.length)}},{key:"toArray",value:function(){return this._stack}}]),e}();t.default=o},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.filterObject=t.wrap=t.Transformer=t.TransformerType=t.quickSort=t.binarySearch=t.sortObjects=t.prettyPrint=t.shuffle=void 0;var i=arguments,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),s=(function(e){e&&e.__esModule}(u),t.shuffle=function(e){var t=e.slice(0),r=e.length,n=0,i=void 0,o=void 0;for(n=r-1;n>0;n--)o=Math.floor(Math.random()*(n+1)),i=t[n],t[n]=t[o],t[o]=i;return t},t.prettyPrint=function(e,t,r){var n="\t";return t&&(n=" ".repeat(r)),JSON.stringify(e,null,n)},t.sortObjects=function(e,t){return e.sort(function(e,r){var n=e[t],i=r[t];return n<i?-1:n>i?1:0})},t.binarySearch=function(e,t,r){for(var n=0,i=e.length-1,o=void 0,a=void 0;n<=i;)if(o=Math.floor((n+i)/2),(a=r(e[o],t))<0)n=o+1;else{if(!(a>0))return o;i=o-1}return null},t.quickSort=function e(t){if(0===t.length)return[];var r=1,n=t.length,i=[],o=[],a=t[0];for(r=1;r<n;r++)t[r]<a?i.push(t[r]):o.push(t[r]);return e(i).concat(a,e(o))},t.TransformerType={});s.STRING=Symbol("String"),s.INTEGER=Symbol("Integer"),s.NUMBER=Symbol("Number"),s.BOOLEAN=Symbol("Boolean"),s.ARRAY=Symbol("Array"),s.OBJECT=Symbol("Object"),s.NULL=Symbol("Null"),(t.Transformer=function(){function e(){n(this,e)}return a(e,null,[{key:"transform",value:function(e,t){var r=null;switch(t){case s.STRING:r="object"===(void 0===e?"undefined":o(e))?JSON.stringify(e):String(e);break;case s.INTEGER:r=parseInt(e);break;case s.NUMBER:r=Number(e);break;case s.BOOLEAN:r=Boolean(e);break;case s.ARRAY:Array.isArray(e)?r=e:(r=[],r[0]=e);break;case s.OBJECT:"object"!==(void 0===e?"undefined":o(e))?(r={},r[e]=e):r=e}return r}},{key:"isType",value:function(e){return null===e?s.NULL:"string"==typeof e?s.STRING:"number"==typeof e?s.NUMBER:"boolean"==typeof e?s.BOOLEAN:Array.isArray(e)?s.ARRAY:"object"===(void 0===e?"undefined":o(e))?s.OBJECT:void 0}}]),e}()).type=s;t.wrap=function(e,t){return function(){return t.apply(void 0,[e].concat(Array.prototype.slice.call(i)))}},t.filterObject=function(e,t){var r={};if(e&&t){var n=t.length,i=0;for(i=0;i<n;i++)r[t[i]]=e[t[i]]}return r}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(8),u=n(a),s=r(21),l=n(s),c=r(2),f=function(){function e(){i(this,e),this._myValidator=null,this._myValidator=(0,l.default)(),this._myValidator&&this._myValidator.addLanguage("en-us",c.ERROR_MESSAGES_DEFAULT)}return o(e,[{key:"supportsValidation",value:function(){return null!==this._myValidator}},{key:"registerSchema",value:function(e,t){return this._myValidator.addSchema(e,t)}},{key:"getSchema",value:function(e){return this._myValidator.getSchema(e)}},{key:"getSchemas",value:function(){return this._myValidator.getSchemaMap()}},{key:"clearSchemas",value:function(){this._myValidator.dropSchemas()}},{key:"validate",value:function(e,t){return this._myValidator.validateMultiple(e,t)}},{key:"getValidationMessages",value:function(){return this._myValidator.error}},{key:"generateSchema",value:function(e){var t=e;return(0,u.default)(t)}}]),e}();t.default=f},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=arguments,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=r(17),s=i(u),l=r(12),c=i(l),f=r(6),h=n(f),d=r(5),v=n(d),y=r(4),p=n(y),m=r(11),_=n(m),g=r(16),E=n(g),O=r(8),b=n(O),R=r(18),k=n(R),S=r(15),P=i(S),M=r(1),A=n(M),T=r(0),w=n(T),N=r(3),I=n(N),U=r(13),C=n(U),j=r(10),x=n(j),L=r(7),D=n(L),F=r(14),B={};B.Utility=s,B.Utility.Map=v.default,B.Utility.Stack=E.default,B.Utility.SchemaGenerator=b.default,B.Utility.extend=w.default,B.Utility.AsynchronousQueue=C.default,B.Utility.pad=D.default,B.Utility.BundleObject=F.BundleObject,B.Utility.ResourceBundle=F.ResourceBundle,B.Utility.MessageReader=F.MessageReader,B.Utility.MessageKeyFormatter=F.MessageKeyFormatter,B.Logger=c,B.Object=h.default,B.ValidationFramework=k.default,B.Security=P,B.Security.ClientType=A.default,B.Configuration=I.default,B.Application=x.default,B.VERSION="2.0.0",B.codename="JC Denton",B.releasename="UNATCO",B._={},B.$={},B.has=function(e,t){return null!==e&&hasOwnProperty.call(e,t)},B.isObject=function(e){var t=void 0===e?"undefined":a(e);return"function"===t||"object"===t&&!!e},B.allKeys=function(e){return B.isObject(e)?Object.getOwnPropertyNames(e):[]};var G=function(e){return B.isObject(e)?Object.create(e):{}};B.create=function(e,t){var r=G(e);return t&&Object.assign(r,t),r};var K={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};B.sync=function(e,t,r){var n=K[e];r||(r={});var i={type:n,dataType:"json"};if(!r.url){if(!t.url)throw new Error('A "url" property or function must be specified');B.isFunction(t.url)?i.url=t.url():i.url=t.url}null!=r.data||!t||"create"!==e&&"update"!==e&&"patch"!==e||(i.contentType="application/json",i.data=JSON.stringify(r.attrs||t.toJSON(r))),"GET"!==i.type&&(i.processData=!1);var o=r.error;r.error=function(e,t,n){r.textStatus=t,r.errorThrown=n,o&&o.call(r.context,e,t,n)};var a=r.xhr=B.ajax(B.Utility.extend(i,r));return t.trigger("request",t,a,r),a},B.isString=p.default,B.isFunction=_.default,B.result=function(e,t){if(null!==e){var r=e[t];return B.isFunction(r)?r.call(e):r}},B.arrayHas=function(e,t){return-1!==e.indexOf(t)},B.exec=function(e,t){var r=Array.prototype.slice.call(o,2),n=e.split("."),i=n.pop(),a=n.length,u=0;for(u=0;u<a;u++)t=t[n[u]];return t[i].apply(t,r)},B.isDefined=function(e){return void 0!==e},t.default=B},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ACLClient=t.OAUTH2Client=t.AbstractSecurityClient=void 0;var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(6),l=n(s),c=r(1),f=n(c),h=t.AbstractSecurityClient=function(e){function t(e){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._type=null,r.uri="",r._type=e,r}return a(t,e),u(t,[{key:"type",get:function(){return this._type}}]),t}(l.default);t.OAUTH2Client=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,f.default.OAUTH2));return e.accessToken="",e.authorizationToken="",e}return a(t,e),u(t,[{key:"authorize",value:function(e){this.authorizationToken=""}},{key:"access",value:function(e){this.accessToken=""}}]),t}(h),t.ACLClient=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,f.default.ACL))}return a(t,e),u(t,[{key:"authenticate",value:function(e,t){var r=null;return Ajax({url:this.uri,method:"GET",user:e,password:t,success:function(e,t){var n=new Principal({fullName:e.fullName,id:e.id,login:e.login,email:e.email});r=new securityContext(n,e.permissions)},failure:function(e,t){throw new Error("Failed to authenticate with response of - "+t)}}),r}}]),t}(h)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=arguments,i=r(22),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(2),u=r(9),s={},l=function e(t){var r=new o.default,i=t||"en";return{addFormat:function(e,t){r.addFormat(e,t)},language:function(e){return e?(s[e]||(e=e.split("-")[0]),!!s[e]&&(i=e,e)):i},addLanguage:function(e,t){var r=void 0;for(r in a.ERROR_CODES)t[r]&&!t[a.ERROR_CODES[r]]&&(t[a.ERROR_CODES[r]]=t[r]);var n=e.split("-")[0];if(s[n]){s[e]=Object.create(s[n]);for(r in t)void 0===s[n][r]&&(s[n][r]=t[r]),s[e][r]=t[r]}else s[e]=t,s[n]=t},freshApi:function(t){var r=e();return t&&r.language(t),r},validate:function(e,t,n,a){var u=new o.default(r,!1,s[i],n,a);"string"==typeof t&&(t={$ref:t}),u.addSchema("",t);var l=u.validateAll(e,t,null,null,"");return!l&&a&&(l=u.banUnknownProperties()),(void 0).error=l,(void 0).missing=u.missing,(void 0).valid=null===l,(void 0).valid},validateResult:function(){var e={};return(void 0).validate.apply(e,n),e},validateMultiple:function(e,t,n,a){var u=new o.default(r,!0,s[i],n,a);"string"==typeof t&&(t={$ref:t}),u.addSchema("",t),u.validateAll(e,t,null,null,""),a&&u.banUnknownProperties();var l={};return l.errors=u.errors,l.missing=u.missing,l.valid=0===l.errors.length,l},addSchema:function(e,t){return r.addSchema(e,t)},getSchema:function(e,t){return r.getSchema(e,t)},getSchemaMap:function(){return r.getSchemaMap.apply(r,n)},getSchemaUris:function(){return r.getSchemaUris.apply(r,n)},getMissingUris:function(){return r.getMissingUris.apply(r,n)},dropSchemas:function(){r.dropSchemas.apply(r,n)},defineKeyword:function(){r.defineKeyword.apply(r,n)},defineError:function(e,t,r){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!=0||t<1e4)throw new Error("Code number must be an integer > 10000");if(void 0!==a.ERROR_CODES[e])throw new Error("Error already defined: "+e+" as "+a.ERROR_CODES[e]);if(void 0!==a.ErrorCodeLookup[t])throw new Error("Error code already used: "+a.ErrorCodeLookup[t]+" as "+t);a.ERROR_CODES[e]=t,a.ErrorCodeLookup[t]=e,a.ERROR_MESSAGES_DEFAULT[e]=a.ERROR_MESSAGES_DEFAULT[t]=r;for(var n in s){var i=s[n];i[e]&&(i[t]=i[t]||i[e])}},reset:function(){r.reset(),(void 0).error=null,(void 0).missing=[],(void 0).valid=!0},missing:[],error:null,valid:!0,normSchema:u.normSchema,resolveUrl:u.resolveUrl,getDocumentUri:u.getDocumentUri,errorCodes:a.ERROR_CODES}};t.default=l},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(2),u=r(9),s=Math.pow(2,-51),l=1-s,c=function(){function e(t,r,i,o,a){if(n(this,e),this.missing=[],this.missingMap={},this.formatValidators=t?Object.create(t.formatValidators):{},this.schemas=t?Object.create(t.schemas):{},this.collectMultiple=r,this.errors=[],this.handleError=r?this.collectError:this.returnError,o&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),a&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=i,this.definedKeywords={},t)for(var u in t.definedKeywords)this.definedKeywords[u]=t.definedKeywords[u].slice(0)}return o(e,[{key:"notReallyPercentEncode",value:function(e){return encodeURI(e).replace(/%25[0-9][0-9]/g,function(e){return"%"+e.substring(3)})}},{key:"uriTemplateSubstitution",value:function(e){var t=this,r="";URI_TEMPLATE_GLOBAL_MODIFIERS[e.charAt(0)]&&(r=e.charAt(0),e=e.substring(1));var n="",o="",a=!0,u=!1,s=!1;"+"===r?a=!1:"."===r?(o=".",n="."):"/"===r?(o="/",n="/"):"#"===r?(o="#",a=!1):";"===r?(o=";",n=";",u=!0,s=!0):"?"===r?(o="?",n="&",u=!0):"&"===r&&(o="&",n="&",u=!0);var l=[],c=e.split(","),f=[],h={},d=0,v=c.length;for(d=0;d<v;d++){var y=c[d],p=null;if(-1!==y.indexOf(":")){var m=y.split(":");y=m[0],p=parseInt(m[1],10)}for(var _={};URI_TEMPLATE_SUFFICES[y.charAt(y.length-1)];)_[y.charAt(y.length-1)]=!0,y=y.substring(0,y.length-1);var g={truncate:p,name:y,suffices:_};f.push(g),h[y]=g,l.push(y)}var E=function(e){var r="",l=0,c=0,h=f.length;for(c=0;c<h;c++){var d=f[c];if(!e&&!isFunction(e))throw new Error("Problem qith value function.");var v=e(d.name);if(null===v||void 0===v||Array.isArray(v)&&0===v.length||"object"===(void 0===v?"undefined":i(v))&&0===Object.keys(v).length)l++;else if(r+=c===l?o:n||",",Array.isArray(v)){u&&(r+=d.name+"=");var y=0;for(h=v.length,y=0;y<h;y++)y>0&&(r+=d.suffices["*"]?n||",":",",d.suffices["*"]&&u&&(r+=d.name+"=")),r+=a?encodeURIComponent(v[y]).replace(/!/g,"%21"):t.notReallyPercentEncode(v[y])}else if("object"===(void 0===v?"undefined":i(v))){u&&!d.suffices["*"]&&(r+=d.name+"=");var p=!0;for(var m in v)p||(r+=d.suffices["*"]?n||",":","),p=!1,r+=a?encodeURIComponent(m).replace(/!/g,"%21"):t.notReallyPercentEncode(m),r+=d.suffices["*"]?"=":",",r+=a?encodeURIComponent(v[m]).replace(/!/g,"%21"):t.notReallyPercentEncode(v[m])}else u&&(r+=d.name,s&&""===v||(r+="=")),null!==d.truncate&&(v=v.substring(0,d.truncate)),r+=a?encodeURIComponent(v).replace(/!/g,"%21"):t.notReallyPercentEncode(v)}return r};return E.varNames=l,{prefix:o,substitution:E}}},{key:"recursiveCompare",value:function(e,t){if(e===t)return!0;if("object"===(void 0===e?"undefined":i(e))&&"object"===(void 0===t?"undefined":i(t))){if(Array.isArray(e)!==Array.isArray(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var r=0,n=e.length;for(r=0;r<n;r++)if(!this.recursiveCompare(e[r],t[r]))return!1}else{var o=void 0;for(o in e)if(void 0===t[o]&&void 0!==e[o])return!1;for(o in t)if(void 0===e[o]&&void 0!==t[o])return!1;for(o in e)if(!this.recursiveCompare(e[o],t[o]))return!1}return!0}return!1}},{key:"defineKeyword",value:function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)}},{key:"createError",value:function(e,t,r,n,i){var o=this.errorMessages[e]||a.ERROR_MESSAGES_DEFAULT[e];if("string"!=typeof o)return new a.ValidationError(e,"Unknown error code "+e+": "+JSON.stringify(t),t,r,n,i);var u=o.replace(/\{([^{}]*)\}/g,function(e,r){var n=t[r];return"string"==typeof n||"number"==typeof n?n:e});return new a.ValidationError(e,u,t,r,n,i)}},{key:"returnError",value:function(e){return e}},{key:"collectError",value:function(e){return e&&this.errors.push(e),null}},{key:"prefixErrors",value:function(e,t,r){var n=0,i=this.errors.length;for(n=e;n<i;n++)this.errors[n]=this.errors[n].prefixWith(t,r);return this}},{key:"banUnknownProperties",value:function(){for(var e in this.unknownPropertyPaths){var t=this.createError(a.ERROR_CODES.UNKNOWN_PROPERTY,{path:e},e,""),r=this.handleError(t);if(r)return r}return null}},{key:"addFormat",value:function(e,t){if("object"===(void 0===e?"undefined":i(e))){for(var r in e)this.addFormat(r,e[r]);return this}this.formatValidators[e]=t}},{key:"resolveRefs",value:function(e,t){if(void 0!==e.$ref){if(t=t||{},t[e.$ref])return this.createError(a.ERROR_CODES.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","");t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e}},{key:"getSchema",value:function(e,t){var r=void 0;if(void 0!==this.schemas[e])return r=this.schemas[e],this.resolveRefs(r,t);var n=e,o="";if(-1!==e.indexOf("#")&&(o=e.substring(e.indexOf("#")+1),n=e.substring(0,e.indexOf("#"))),"object"===i(this.schemas[n])){r=this.schemas[n];var a=decodeURIComponent(o);if(""===a)return this.resolveRefs(r,t);if("/"!==a.charAt(0))return;var u=a.split("/").slice(1),s=0,l=u.length;for(s=0;s<l;s++){var c=u[s].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===r[c]){r=void 0;break}r=r[c]}if(void 0!==r)return this.resolveRefs(r,t)}void 0===this.missing[n]&&(this.missing.push(n),this.missing[n]=n,this.missingMap[n]=n)}},{key:"searchSchemas",value:function(e,t){if(Array.isArray(e)){var r=0,n=e.length;for(r=0;r<n;r++)this.searchSchemas(e[r],t)}else if(e&&"object"===(void 0===e?"undefined":i(e))){"string"==typeof e.id&&isTrustedUrl(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e);for(var o in e)if("enum"!==o)if("object"===i(e[o]))this.searchSchemas(e[o],t);else if("$ref"===o){var a=(0,u.getDocumentUri)(e[o]);a&&void 0===this.schemas[a]&&void 0===this.missingMap[a]&&(this.missingMap[a]=a)}}}},{key:"addSchema",value:function(e,t){if("string"!=typeof e||void 0===t){if("object"!==(void 0===e?"undefined":i(e))||"string"!=typeof e.id)return;t=e,e=t.id}e===(0,u.getDocumentUri)(e)+"#"&&(e=(0,u.getDocumentUri)(e)),this.schemas[e]=t,delete this.missingMap[e],(0,u.normSchema)(t,e),this.searchSchemas(t,e)}},{key:"getSchemaMap",value:function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e}},{key:"getSchemaUris",value:function(e){var t=[];for(var r in this.schemas)e&&!e.test(r)||t.push(r);return t}},{key:"getMissingUris",value:function(e){var t=[];for(var r in this.missingMap)e&&!e.test(r)||t.push(r);return t}},{key:"dropSchemas",value:function(){this.schemas={},this.reset()}},{key:"reset",value:function(){this.missing=[],this.missingMap={},this.errors=[]}},{key:"validateAll",value:function(e,t,r,n,o){var u=void 0;if(!(t=this.resolveRefs(t)))return null;if(t instanceof a.ValidationError)return this.errors.push(t),t;var s=this.errors.length,l=void 0,c=null,f=null;if(this.checkRecursive&&e&&"object"===(void 0===e?"undefined":i(e))){if(u=!this.scanned.length,e[this.validatedSchemasKey]){var h=e[this.validatedSchemasKey].indexOf(t);if(-1!==h)return this.errors=this.errors.concat(e[this.validationErrorsKey][h]),null}if(Object.isFrozen(e)&&-1!==(l=this.scannedFrozen.indexOf(e))){var d=this.scannedFrozenSchemas[l].indexOf(t);if(-1!==d)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[l][d]),null}if(this.scanned.push(e),Object.isFrozen(e))-1===l&&(l=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),c=this.scannedFrozenSchemas[l].length,this.scannedFrozenSchemas[l][c]=t,this.scannedFrozenValidationErrors[l][c]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(t){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}f=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][f]=t,e[this.validationErrorsKey][f]=[]}}var v=this.errors.length,y=this.validateBasic(e,t,o)||this.validateNumeric(e,t,o)||this.validateString(e,t,o)||this.validateArray(e,t,o)||this.validateObject(e,t,o)||this.validateCombinations(e,t,o)||this.validateHypermedia(e,t,o)||this.validateFormat(e,t,o)||this.validateDefinedKeywords(e,t,o)||null;if(u){for(;this.scanned.length;){delete this.scanned.pop()[this.validatedSchemasKey]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(y||v!==this.errors.length)for(;r&&r.length||n&&n.length;){var p=r&&r.length?""+r.pop():null,m=n&&n.length?""+n.pop():null;y&&(y=y.prefixWith(p,m)),this.prefixErrors(v,p,m)}return null!==c?this.scannedFrozenValidationErrors[l][c]=this.errors.slice(s):null!==f&&(e[this.validationErrorsKey][f]=this.errors.slice(s)),this.handleError(y)}},{key:"validateFormat",value:function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var r=this.formatValidators[t.format].call(null,e,t);return"string"==typeof r||"number"==typeof r?this.createError(a.ERROR_CODES.FORMAT_CUSTOM,{message:r}).prefixWith(null,"format"):r&&"object"===(void 0===r?"undefined":i(r))?this.createError(a.ERROR_CODES.FORMAT_CUSTOM,{message:r.message||"?"},r.dataPath||null,r.schemaPath||"/format"):null}},{key:"validateDefinedKeywords",value:function(e,t,r){for(var n in this.definedKeywords)if(void 0!==t[n]){var o=this.definedKeywords[n],u=0,s=o.length;for(u=0;u<s;u++){var l=o[u],c=l(e,t[n],t,r);if("string"==typeof c||"number"==typeof c)return this.createError(a.ERROR_CODES.KEYWORD_CUSTOM,{key:n,message:c}).prefixWith(null,"format");if(c&&"object"===(void 0===c?"undefined":i(c))){var f=c.code;if("string"==typeof f){if(!a.ERROR_CODES[f])throw new Error("Undefined error code (use defineError): "+f);f=a.ERROR_CODES[f]}else"number"!=typeof f&&(f=a.ERROR_CODES.KEYWORD_CUSTOM);var h="object"===i(c.message)?c.message:{key:n,message:c.message||"?"},d=c.schemaPath||"/"+n.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(f,h,c.dataPath||null,d)}}}return null}},{key:"validateBasic",value:function(e,t,r){var n=this.validateType(e,t,r);return n?n.prefixWith(null,"type"):null}},{key:"validateType",value:function(e,t){if(void 0===t.type)return null;var r=void 0===e?"undefined":i(e);null===e?r="null":Array.isArray(e)&&(r="array");var n=t.type;"object"!==(void 0===n?"undefined":i(n))&&(n=[n]);var o=0,u=n.length;for(o=0;o<u;o++){var s=n[o];if(s===r||"integer"===s&&"number"===r&&e%1==0)return null}return this.createError(a.ERROR_CODES.INVALID_TYPE,{type:r,expected:n.join("/")})}},{key:"validateEnum",value:function(e,t){if(void 0===t.enum)return null;var r=0,n=t.enum.length;for(r=0;r<n;r++){var i=t.enum[r];if(this.recursiveCompare(e,i))return null}return this.createError(a.ERROR_CODES.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(e):e})}},{key:"validateNumeric",value:function(e,t,r){return this.validateMultipleOf(e,t,r)||this.validateMinMax(e,t,r)||this.validateNaN(e,t,r)||null}},{key:"validateMultipleOf",value:function(e,t){var r=t.multipleOf||t.divisibleBy;if(void 0===r)return null;if("number"==typeof e){var n=e/r%1;if(n>=s&&n<l)return this.createError(a.ERROR_CODES.NUMBER_MULTIPLE_OF,{value:e,multipleOf:r})}return null}},{key:"validateMinMax",value:function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(a.ERROR_CODES.NUMBER_MINIMUM,{value:e,minimum:t.minimum}).prefixWith(null,"minimum");if(t.exclusiveMinimum&&e===t.minimum)return this.createError(a.ERROR_CODES.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(a.ERROR_CODES.NUMBER_MAXIMUM,{value:e,maximum:t.maximum}).prefixWith(null,"maximum");if(t.exclusiveMaximum&&e===t.maximum)return this.createError(a.ERROR_CODES.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum}).prefixWith(null,"exclusiveMaximum")}return null}},{key:"validateNaN",value:function(e){return"number"!=typeof e?null:!0===isNaN(e)||e===1/0||e===-1/0?this.createError(a.ERROR_CODES.NUMBER_NOT_A_NUMBER,{value:e}).prefixWith(null,"type"):null}},{key:"validateString",value:function(e,t,r){return this.validateStringLength(e,t,r)||this.validateStringPattern(e,t,r)||null}},{key:"validateStringLength",value:function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(a.ERROR_CODES.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength}).prefixWith(null,"minLength"):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(a.ERROR_CODES.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength}).prefixWith(null,"maxLength"):null}},{key:"validateStringPattern",value:function(e,t){return"string"!=typeof e||void 0===t.pattern?null:new RegExp(t.pattern).test(e)?null:this.createError(a.ERROR_CODES.STRING_PATTERN,{pattern:t.pattern}).prefixWith(null,"pattern")}},{key:"validateArray",value:function(e,t,r){return Array.isArray(e)?this.validateArrayLength(e,t,r)||this.validateArrayUniqueItems(e,t,r)||this.validateArrayItems(e,t,r)||null:null}},{key:"validateArrayLength",value:function(e,t){var r=void 0;return void 0!==t.minItems&&e.length<t.minItems&&(r=this.createError(a.ERROR_CODES.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems}).prefixWith(null,"minItems"),this.handleError(r))?r:void 0!==t.maxItems&&e.length>t.maxItems&&(r=this.createError(a.ERROR_CODES.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems}).prefixWith(null,"maxItems"),this.handleError(r))?r:null}},{key:"validateArrayUniqueItems",value:function(e,t){if(t.uniqueItems){var r=0,n=e.length;for(r=0;r<n;r++){var i=0;for(i=r+1;i<n;i++)if(recursiveCompare(e[r],e[i])){var o=this.createError(a.ERROR_CODES.ARRAY_UNIQUE,{match1:r,match2:i}).prefixWith(null,"uniqueItems");if(this.handleError(o))return o}}}return null}},{key:"validateArrayItems",value:function(e,t,r){if(void 0===t.items)return null;var n=void 0,i=void 0;if(Array.isArray(t.items)){var o=e.length;for(i=0;i<o;i++)if(i<t.items.length){if(n=this.validateAll(e[i],t.items[i],[i],["items",i],r+"/"+i))return n}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(n=this.createError(a.ERROR_CODES.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+i,"additionalItems"),this.handleError(n)))return n}else if(n=this.validateAll(e[i],t.additionalItems,[i],["additionalItems"],r+"/"+i))return n}else{var u=e.length;for(i=0;i<u;i++)if(n=this.validateAll(e[i],t.items,[i],["items"],r+"/"+i))return n}return null}},{key:"validateObject",value:function(e,t,r){return"object"!==(void 0===e?"undefined":i(e))||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,r)||this.validateObjectRequiredProperties(e,t,r)||this.validateObjectProperties(e,t,r)||this.validateObjectDependencies(e,t,r)||null}},{key:"validateObjectMinMaxProperties",value:function(e,t){var r=Object.keys(e),n=void 0;return void 0!==t.minProperties&&r.length<t.minProperties&&(n=this.createError(a.ERROR_CODES.OBJECT_PROPERTIES_MINIMUM,{propertyCount:r.length,minimum:t.minProperties}).prefixWith(null,"minProperties"),this.handleError(n))?n:void 0!==t.maxProperties&&r.length>t.maxProperties&&(n=this.createError(a.ERROR_CODES.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:r.length,maximum:t.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(n))?n:null}},{key:"validateObjectRequiredProperties",value:function(e,t){if(void 0!==t.required){var r=0,n=t.required.length;for(r=0;r<n;r++){var i=t.required[r];if(void 0===e[i]){var o=this.createError(a.ERROR_CODES.OBJECT_REQUIRED,{key:i}).prefixWith(null,""+r).prefixWith(null,"required");if(this.handleError(o))return o}}}return null}},{key:"validateObjectProperties",value:function(e,t,r){var n=void 0;for(var i in e){var o=r+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),u=!1;if(void 0!==t.properties&&void 0!==t.properties[i]&&(u=!0,n=this.validateAll(e[i],t.properties[i],[i],["properties",i],o)))return n;if(void 0!==t.patternProperties)for(var s in t.patternProperties){var l=new RegExp(s);if(l.test(i)&&(u=!0,n=this.validateAll(e[i],t.patternProperties[s],[i],["patternProperties",s],o)))return n}if(u)this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(n=this.createError(a.ERROR_CODES.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(i,"additionalProperties"),this.handleError(n)))return n}else if(n=this.validateAll(e[i],t.additionalProperties,[i],["additionalProperties"],o))return n}else this.trackUnknownProperties&&!this.knownPropertyPaths[o]&&(this.unknownPropertyPaths[o]=!0)}return null}},{key:"validateObjectDependencies",value:function(e,t,r){var n=void 0;if(void 0!==t.dependencies)for(var i in t.dependencies)if(void 0!==e[i]){var o=t.dependencies[i];if("string"==typeof o){if(void 0===e[o]&&(n=this.createError(a.ERROR_CODES.OBJECT_DEPENDENCY_KEY,{key:i,missing:o}).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(Array.isArray(o)){var u=0,s=o.lenth;for(u=0;u<s;u++){var l=o[u];if(void 0===e[l]&&(n=this.createError(a.ERROR_CODES.OBJECT_DEPENDENCY_KEY,{key:i,missing:l}).prefixWith(null,""+u).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(n)))return n}}else if(n=this.validateAll(e,o,[],["dependencies",i],r))return n}return null}},{key:"validateCombinations",value:function(e,t,r){return this.validateAllOf(e,t,r)||this.validateAnyOf(e,t,r)||this.validateOneOf(e,t,r)||this.validateNot(e,t,r)||null}},{key:"validateAllOf",value:function(e,t,r){if(void 0===t.allOf)return null;var n=void 0,i=0,o=t.allOf.length;for(i=0;i<o;i++){var a=t.allOf[i];if(n=this.validateAll(e,a,[],["allOf",i],r))return n}return null}},{key:"validateAnyOf",value:function(e,t,r){if(void 0===t.anyOf)return null;var n=[],i=this.errors.length,o=void 0,u=void 0;this.trackUnknownProperties&&(o=this.unknownPropertyPaths,u=this.knownPropertyPaths);var s=!0,l=0,c=t.anyOf.length;for(l=0;l<c;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var f=t.anyOf[l],h=this.errors.length,d=this.validateAll(e,f,[],["anyOf",l],r);if(null===d&&h===this.errors.length){if(this.errors=this.errors.slice(0,i),this.trackUnknownProperties){for(var v in this.knownPropertyPaths)u[v]=!0,delete o[v];for(var y in this.unknownPropertyPaths)u[y]||(o[y]=!0);s=!1;continue}return null}d&&n.push(d.prefixWith(null,""+l).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=o,this.knownPropertyPaths=u),s?(n=n.concat(this.errors.slice(i)),this.errors=this.errors.slice(0,i),this.createError(a.ERROR_CODES.ANY_OF_MISSING,{},"","/anyOf",n)):void 0}},{key:"validateOneOf",value:function(e,t,r){if(void 0===t.oneOf)return null;var n=null,i=[],o=this.errors.length,u=void 0,s=void 0;this.trackUnknownProperties&&(u=this.unknownPropertyPaths,s=this.knownPropertyPaths);var l=0,c=t.oneOf.length;for(l=0;l<c;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var f=t.oneOf[l],h=this.errors.length,d=this.validateAll(e,f,[],["oneOf",l],r);if(null===d&&h===this.errors.length){if(null!==n)return this.errors=this.errors.slice(0,o),this.createError(a.ERROR_CODES.ONE_OF_MULTIPLE,{index1:n,index2:l},"","/oneOf");if(n=l,this.trackUnknownProperties){for(var v in this.knownPropertyPaths)s[v]=!0,delete u[v];for(var y in this.unknownPropertyPaths)s[y]||(u[y]=!0)}}else d&&i.push(d)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=u,this.knownPropertyPaths=s),null===n?(i=i.concat(this.errors.slice(o)),this.errors=this.errors.slice(0,o),this.createError(a.ERROR_CODES.ONE_OF_MISSING,{},"","/oneOf",i)):(this.errors=this.errors.slice(0,o),null)}},{key:"validateNot",value:function(e,t,r){if(void 0===t.not)return null;var n=this.errors.length,i=void 0,o=void 0;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,o=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=this.validateAll(e,t.not,null,null,r),s=this.errors.slice(n);return this.errors=this.errors.slice(0,n),this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=o),null===u&&0===s.length?this.createError(a.ERROR_CODES.NOT_PASSED,{},"","/not"):null}},{key:"validateHypermedia",value:function(e,t,r){if(!t.links)return null;var n=void 0,i=0,o=t.links.length;for(i=0;i<o;i++){var a=t.links[i];if("describedby"===a.rel){var u=new UriTemplate(a.href),s=!0,l=0,c=u.varNames.length;for(l=0;l<c;l++)if(!(u.varNames[l]in e)){s=!1;break}if(s){var f=u.fillFromObject(e),h={$ref:f};if(n=this.validateAll(e,h,[],["links",i],r))return n}}}}}]),e}();t.default=c=c},function(e,t,r){(function(t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function n(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););return e}function i(e,t){return!!(e?e.length:0)&&a(e,t,0)>-1}function o(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function a(e,t,r){if(t!==t)return o(e,u,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function u(e){return e!==e}function s(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&n++;return n}function l(e,t){return null==e?void 0:e[t]}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function f(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r];a!==t&&a!==W||(e[r]=W,o[i++]=r)}return o}function h(e){return C(e)?Te(e):{}}function d(e){return!(!C(e)||T(e))&&(U(e)||c(e)?Ae:ve).test(N(e))}function v(e,t,r,n){for(var i=-1,o=e.length,a=r.length,u=-1,s=t.length,l=we(o-a,0),c=Array(s+l),f=!n;++u<s;)c[u]=t[u];for(;++i<a;)(f||i<o)&&(c[r[i]]=e[i]);for(;l--;)c[u++]=e[i++];return c}function y(e,t,r,n){for(var i=-1,o=e.length,a=-1,u=r.length,s=-1,l=t.length,c=we(o-u,0),f=Array(c+l),h=!n;++i<c;)f[i]=e[i];for(var d=i;++s<l;)f[d+s]=t[s];for(;++a<u;)(h||i<o)&&(f[d+r[a]]=e[i++]);return f}function p(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function m(e,t,r){function n(){return(this&&this!==Ee&&this instanceof n?o:e).apply(i?r:this,arguments)}var i=t&V,o=_(e);return n}function _(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=h(e.prototype),n=e.apply(r,t);return C(n)?n:r}}function g(e,t,n){function i(){for(var a=arguments.length,u=Array(a),s=a,l=k(i);s--;)u[s]=arguments[s];var c=a<3&&u[0]!==l&&u[a-1]!==l?[]:f(u,l);return(a-=c.length)<n?b(e,t,E,i.placeholder,void 0,u,c,void 0,void 0,n-a):r(this&&this!==Ee&&this instanceof i?o:e,this,u)}var o=_(e);return i}function E(e,t,r,n,i,o,a,u,l,c){function h(){for(var S=arguments.length,P=Array(S),M=S;M--;)P[M]=arguments[M];if(g)var A=k(h),T=s(P,A);if(n&&(P=v(P,n,i,g)),o&&(P=y(P,o,a,g)),S-=T,g&&S<c){var N=f(P,A);return b(e,t,E,h.placeholder,r,P,N,u,l,c-S)}var I=p?r:this,U=m?I[e]:e;return S=P.length,u?P=w(P,u):O&&S>1&&P.reverse(),d&&l<S&&(P.length=l),this&&this!==Ee&&this instanceof h&&(U=R||_(U)),U.apply(I,P)}var d=t&X,p=t&V,m=t&Y,g=t&(z|J),O=t&Q,R=m?void 0:_(e);return h}function O(e,t,n,i){function o(){for(var t=-1,s=arguments.length,l=-1,c=i.length,f=Array(c+s),h=this&&this!==Ee&&this instanceof o?u:e;++l<c;)f[l]=i[l];for(;s--;)f[l++]=arguments[++t];return r(h,a?n:this,f)}var a=t&V,u=_(e);return o}function b(e,t,r,n,i,o,a,u,s,l){var c=t&z,f=c?a:void 0,h=c?void 0:a,d=c?o:void 0,v=c?void 0:o;t|=c?$:q,(t&=~(c?q:$))&H||(t&=~(V|Y));var y=r(e,t,i,d,f,v,h,u,s,l);return y.placeholder=n,Ue(y,e,t)}function R(e,t,r,n,i,o,a,u){var s=t&Y;if(!s&&"function"!=typeof e)throw new TypeError(K);var l=n?n.length:0;if(l||(t&=~($|q),n=i=void 0),a=void 0===a?a:we(D(a),0),u=void 0===u?u:D(u),l-=i?i.length:0,t&q){var c=n,f=i;n=i=void 0}var h=[e,t,r,n,i,c,f,o,a,u];if(e=h[0],t=h[1],r=h[2],n=h[3],i=h[4],u=h[9]=null==h[9]?s?0:e.length:we(h[9]-l,0),!u&&t&(z|J)&&(t&=~(z|J)),t&&t!=V)d=t==z||t==J?g(e,t,u):t!=$&&t!=(V|$)||i.length?E.apply(void 0,h):O(e,t,r,n);else var d=m(e,t,r);return Ue(d,e,t)}function k(e){return e.placeholder}function S(e,t){var r=l(e,t);return d(r)?r:void 0}function P(e){var t=e.match(ce);return t?t[1].split(fe):[]}function M(e,t){var r=t.length,n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}function A(e,t){return!!(t=null==t?ee:t)&&("number"==typeof e||pe.test(e))&&e>-1&&e%1==0&&e<t}function T(e){return!!ke&&ke in e}function w(e,t){for(var r=e.length,n=Ne(t.length,r),i=p(e);n--;){var o=t[n];e[n]=A(o,r)?i[o]:void 0}return e}function N(e){if(null!=e){try{return Se.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function I(e,t){return n(ne,function(r){var n="_."+r[0];t&r[1]&&!i(e,n)&&e.push(n)}),e.sort()}function U(e){var t=C(e)?Me.call(e):"";return t==ie||t==oe}function C(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function j(e){return!!e&&"object"==typeof e}function x(e){return"symbol"==typeof e||j(e)&&Me.call(e)==ae}function L(e){if(!e)return 0===e?e:0;if((e=F(e))===Z||e===-Z){return(e<0?-1:1)*te}return e===e?e:0}function D(e){var t=L(e),r=t%1;return t===t?r?t-r:t:0}function F(e){if("number"==typeof e)return e;if(x(e))return re;if(C(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=C(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(se,"");var r=de.test(e);return r||ye.test(e)?me(e.slice(2),r?2:8):he.test(e)?re:+e}function B(e){return function(){return e}}function G(e){return e}var K="Expected a function",W="__lodash_placeholder__",V=1,Y=2,H=4,z=8,J=16,$=32,q=64,X=128,Q=512,Z=1/0,ee=9007199254740991,te=1.7976931348623157e308,re=NaN,ne=[["ary",X],["bind",V],["bindKey",Y],["curry",z],["curryRight",J],["flip",Q],["partial",$],["partialRight",q],["rearg",256]],ie="[object Function]",oe="[object GeneratorFunction]",ae="[object Symbol]",ue=/[\\^$.*+?()[\]{}|]/g,se=/^\s+|\s+$/g,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,fe=/,? & /,he=/^[-+]0x[0-9a-f]+$/i,de=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,pe=/^(?:0|[1-9]\d*)$/,me=parseInt,_e="object"==typeof t&&t&&t.Object===Object&&t,ge="object"==typeof self&&self&&self.Object===Object&&self,Ee=_e||ge||Function("return this")(),Oe=Function.prototype,be=Object.prototype,Re=Ee["__core-js_shared__"],ke=function(){var e=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Se=Oe.toString,Pe=be.hasOwnProperty,Me=be.toString,Ae=RegExp("^"+Se.call(Pe).replace(ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=Object.create,we=Math.max,Ne=Math.min,Ie=function(){var e=S(Object,"defineProperty"),t=S.name;return t&&t.length>2?e:void 0}(),Ue=Ie?function(e,t,r){var n=t+"";return Ie(e,"toString",{configurable:!0,enumerable:!1,value:B(M(n,I(P(n),r)))})}:G,Ce=function(e,t){return t=we(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=we(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=n[i];return u[t]=a,r(e,this,u)}}(function(e,t,r){var n=V;if(r.length){var i=f(r,k(Ce));n|=$}return R(e,n,t,r,i)});Ce.placeholder={},e.exports=Ce}).call(t,r(24))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r}]);
//# sourceMappingURL=augmented2.js.map